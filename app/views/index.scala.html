@(message: String)(series: List[ChannelSeries], filterGroups: List[FilterGroup], filterMap: Map[String, List[models.Filter]])(implicit channels: List[Channel], currentChannel: Channel, links: List[ChannelLink])

@renderFilterGroup(name: String, filters: List[models.Filter]) = {
    <fieldset id="filter@name" class="filter">
        @defining(name.toLowerCase().replaceAll("\\s", "-")) { htmlName =>
            <h4>@name</h4>
            <div class="checkbox">
                <label><input data-tag="all" type="checkbox" checked> All</label>
            </div>
            @for(filter <- filters) {
                <div class="checkbox">
                    <label><input data-tag="@filter.tagName" type="checkbox"> @filter.name</label>
                </div>
            }
        }
    </fieldset>

}

@main("RandomHaus") {
    <script src="@routes.Assets.at("javascripts/index.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/mediacontroller.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/models.js")" type="text/javascript"></script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip();
        })
    </script>
} {
    <div id="main">
        <div id="player"></div>
        <br>
        <div class="btn-group" id="mediaControl">
            <button class="btn btn-primary" onclick="loadRandomVideo()">Random Video</button>
            <button class="btn btn-primary" onclick="loadRandomPlaylist()">Random Playlist</button>
        </div>
        <div id="vidID"></div>
        <form class="form" role="form">
            <h3>Filters</h3>
            <div class="form-group">
                <fieldset id="filterSeries">
                    <h4>Series</h4>
                    <div class="checkbox">
                        <label><input data-series-id="all" type="checkbox" checked> All</label>
                    </div>
                    @for(s <- series) {
                        <div class="checkbox">
                            <label><input data-series-id="@s.id" type="checkbox"> @s.name</label>
                        </div>
                    }
                </fieldset>
                @for(filterGroup <- filterGroups) {
                    @renderFilterGroup(filterGroup.name, filterMap.getOrElse(filterGroup.name, List()))
                }
            </div>
            <h3>Filter Options</h3>
            <div class="form-group">
                <fieldset id="filterMatchMethod">
                    <h4>Match Method</h4>

                    <div class="radio">
                        <a data-toggle="tooltip" data-placement="right" title="The generated playlist will only have videos that match all selected tags. This does not apply to series.">
                            <label><input type="radio" name="matchMethod" value="matchAll" checked> Match All</label>
                        </a>
                    </div>
                    <div class="radio">
                        <a data-toggle="tooltip" data-placement="right" title="The generated playlist will only have videos that match any of the selected tags. This does not apply to series.">
                            <label><input type="radio" name="matchMethod" value="matchAny"> Match Any</label>
                        </a>
                    </div>
                </fieldset>
                <fieldset id="filterPlaylistSize">
                    <h4>Playlist Size</h4>
                    <a data-toggle="tooltip" data-placement="right" title="The number of videos in the generated playlist.">
                        <input type="number" id="playlistSize" name="playlistSize" min="1" max="100" value="50">
                    </a>
                </fieldset>
            </div>
            <button type='button' onclick="loadQueue()" class="btn btn-primary">Create Playlist</button>
        </form>
    </div>

    <script>
            var tag = document.createElement('script');

            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>
}
